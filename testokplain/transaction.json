{
    "openapi": "3.0.0",
    "info": {
        "title": "My API",
        "version": "1.0.0"
    },
    "paths": {
        "/block": {
            "post": {
                "operationId": "block",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/JsonRpcRequest_for_RpcBlockRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/JsonRpcResponse_for_RpcBlockResponse_and_RpcError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AccountId": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"\u0192elicia.near\".parse::<AccountId>().is_err()); // (\u0192 is not f) ```",
                "type": "string"
            },
            "BandwidthRequest": {
                "description": "`BandwidthRequest` describes the size of receipts that a shard would like to send to another shard. When a shard wants to send a lot of receipts to another shard, it needs to create a request and wait for a bandwidth grant from the bandwidth scheduler.",
                "type": "object",
                "required": [
                    "requested_values_bitmap",
                    "to_shard"
                ],
                "properties": {
                    "requested_values_bitmap": {
                        "description": "Bitmap which describes what values of bandwidth are requested.",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/BandwidthRequestBitmap"
                            }
                        ]
                    },
                    "to_shard": {
                        "description": "Requesting bandwidth to this shard.",
                        "type": "integer",
                        "format": "uint16",
                        "minimum": 0.0
                    }
                }
            },
            "BandwidthRequestBitmap": {
                "description": "Bitmap which describes which values from the predefined list are being requested. The nth bit is set to 1 when the nth value from the list is being requested.",
                "type": "object",
                "required": [
                    "data"
                ],
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "type": "integer",
                            "format": "uint8",
                            "minimum": 0.0
                        },
                        "maxItems": 5,
                        "minItems": 5
                    }
                }
            },
            "BandwidthRequests": {
                "description": "A list of shard's bandwidth requests. Describes how much the shard would like to send to other shards.",
                "oneOf": [
                    {
                        "type": "object",
                        "required": [
                            "V1"
                        ],
                        "properties": {
                            "V1": {
                                "$ref": "#/components/schemas/BandwidthRequestsV1"
                            }
                        },
                        "additionalProperties": false
                    }
                ]
            },
            "BandwidthRequestsV1": {
                "type": "object",
                "required": [
                    "requests"
                ],
                "properties": {
                    "requests": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/BandwidthRequest"
                        }
                    }
                }
            },
            "BlockHeaderView": {
                "type": "object",
                "required": [
                    "approvals",
                    "block_merkle_root",
                    "challenges_result",
                    "challenges_root",
                    "chunk_headers_root",
                    "chunk_mask",
                    "chunk_receipts_root",
                    "chunk_tx_root",
                    "chunks_included",
                    "epoch_id",
                    "gas_price",
                    "hash",
                    "height",
                    "last_ds_final_block",
                    "last_final_block",
                    "latest_protocol_version",
                    "next_bp_hash",
                    "next_epoch_id",
                    "outcome_root",
                    "prev_hash",
                    "prev_state_root",
                    "random_value",
                    "rent_paid",
                    "signature",
                    "timestamp",
                    "timestamp_nanosec",
                    "total_supply",
                    "validator_proposals",
                    "validator_reward"
                ],
                "properties": {
                    "approvals": {
                        "type": "array",
                        "items": {
                            "allOf": [
                                {
                                    "$ref": "#/components/schemas/Signature"
                                }
                            ],
                            "nullable": true
                        }
                    },
                    "block_body_hash": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/CryptoHash"
                            }
                        ],
                        "nullable": true
                    },
                    "block_merkle_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "block_ordinal": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0,
                        "nullable": true
                    },
                    "challenges_result": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/SlashedValidator"
                        }
                    },
                    "challenges_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "chunk_endorsements": {
                        "type": "array",
                        "items": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "format": "uint8",
                                "minimum": 0.0
                            }
                        },
                        "nullable": true
                    },
                    "chunk_headers_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "chunk_mask": {
                        "type": "array",
                        "items": {
                            "type": "boolean"
                        }
                    },
                    "chunk_receipts_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "chunk_tx_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "chunks_included": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "epoch_id": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "epoch_sync_data_hash": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/CryptoHash"
                            }
                        ],
                        "nullable": true
                    },
                    "gas_price": {
                        "type": "string"
                    },
                    "hash": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "height": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "last_ds_final_block": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "last_final_block": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "latest_protocol_version": {
                        "type": "integer",
                        "format": "uint32",
                        "minimum": 0.0
                    },
                    "next_bp_hash": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "next_epoch_id": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "outcome_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "prev_hash": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "prev_height": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0,
                        "nullable": true
                    },
                    "prev_state_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "random_value": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "rent_paid": {
                        "description": "TODO(2271): deprecated.",
                        "type": "string"
                    },
                    "signature": {
                        "$ref": "#/components/schemas/Signature"
                    },
                    "timestamp": {
                        "description": "Legacy json number. Should not be used.",
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "timestamp_nanosec": {
                        "type": "string"
                    },
                    "total_supply": {
                        "type": "string"
                    },
                    "validator_proposals": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ValidatorStakeView"
                        }
                    },
                    "validator_reward": {
                        "description": "TODO(2271): deprecated.",
                        "type": "string"
                    }
                }
            },
            "BlockId": {
                "anyOf": [
                    {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    {
                        "$ref": "#/components/schemas/CryptoHash"
                    }
                ]
            },
            "Block_enum": {
                "type": "string",
                "enum": [
                    "block"
                ]
            },
            "CauseRpcErrorKind": {
                "anyOf": [
                    {
                        "$ref": "#/components/schemas/RpcRequestValidationErrorKind"
                    },
                    {},
                    {}
                ]
            },
            "ChunkHeaderView": {
                "type": "object",
                "required": [
                    "balance_burnt",
                    "chunk_hash",
                    "encoded_length",
                    "encoded_merkle_root",
                    "gas_limit",
                    "gas_used",
                    "height_created",
                    "height_included",
                    "outcome_root",
                    "outgoing_receipts_root",
                    "prev_block_hash",
                    "prev_state_root",
                    "rent_paid",
                    "shard_id",
                    "signature",
                    "tx_root",
                    "validator_proposals",
                    "validator_reward"
                ],
                "properties": {
                    "balance_burnt": {
                        "type": "string"
                    },
                    "bandwidth_requests": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/BandwidthRequests"
                            }
                        ],
                        "nullable": true
                    },
                    "chunk_hash": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "congestion_info": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/CongestionInfoView"
                            }
                        ],
                        "nullable": true
                    },
                    "encoded_length": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "encoded_merkle_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "gas_limit": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "gas_used": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "height_created": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "height_included": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    },
                    "outcome_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "outgoing_receipts_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "prev_block_hash": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "prev_state_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "rent_paid": {
                        "description": "TODO(2271): deprecated.",
                        "type": "string"
                    },
                    "shard_id": {
                        "$ref": "#/components/schemas/ShardId"
                    },
                    "signature": {
                        "$ref": "#/components/schemas/Signature"
                    },
                    "tx_root": {
                        "$ref": "#/components/schemas/CryptoHash"
                    },
                    "validator_proposals": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ValidatorStakeView"
                        }
                    },
                    "validator_reward": {
                        "description": "TODO(2271): deprecated.",
                        "type": "string"
                    }
                }
            },
            "CongestionInfoView": {
                "type": "object",
                "required": [
                    "allowed_shard",
                    "buffered_receipts_gas",
                    "delayed_receipts_gas",
                    "receipt_bytes"
                ],
                "properties": {
                    "allowed_shard": {
                        "type": "integer",
                        "format": "uint16",
                        "minimum": 0.0
                    },
                    "buffered_receipts_gas": {
                        "type": "string"
                    },
                    "delayed_receipts_gas": {
                        "type": "string"
                    },
                    "receipt_bytes": {
                        "type": "integer",
                        "format": "uint64",
                        "minimum": 0.0
                    }
                }
            },
            "CryptoHash": {
                "type": "string"
            },
            "Finality": {
                "description": "Different types of finality.",
                "type": "string",
                "enum": [
                    "optimistic",
                    "near-final",
                    "final"
                ]
            },
            "JsonRpcRequest_for_RpcBlockRequest": {
                "title": "JsonRpcRequest_for_RpcBlockRequest",
                "type": "object",
                "required": [
                    "id",
                    "jsonrpc",
                    "method",
                    "params"
                ],
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "jsonrpc": {
                        "type": "string"
                    },
                    "method": {
                        "$ref": "#/components/schemas/Block_enum"
                    },
                    "params": {
                        "$ref": "#/components/schemas/RpcBlockRequest"
                    }
                }
            },
            "JsonRpcResponse_for_RpcBlockResponse_and_RpcError": {
                "title": "JsonRpcResponse_for_RpcBlockResponse_and_RpcError",
                "type": "object",
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "result"
                        ],
                        "properties": {
                            "result": {
                                "$ref": "#/components/schemas/RpcBlockResponse"
                            }
                        }
                    },
                    {
                        "type": "object",
                        "required": [
                            "tmp"
                        ],
                        "properties": {
                            "tmp": {
                                "$ref": "#/components/schemas/RpcError"
                            }
                        }
                    },
                    {
                        "type": "object",
                        "required": [
                            "error"
                        ],
                        "properties": {
                            "error": {
                                "$ref": "#/components/schemas/RpcError"
                            }
                        }
                    }
                ],
                "required": [
                    "id",
                    "jsonrpc"
                ],
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "jsonrpc": {
                        "type": "string"
                    }
                }
            },
            "NameRpcErrorKind": {
                "type": "string",
                "enum": [
                    "REQUEST_VALIDATION_ERROR",
                    "HANDLER_ERROR",
                    "INTERNAL_ERROR"
                ]
            },
            "PublicKey": {
                "type": "string"
            },
            "RpcBlockRequest": {
                "type": "object",
                "oneOf": [
                    {
                        "type": "object",
                        "required": [
                            "block_id"
                        ],
                        "properties": {
                            "block_id": {
                                "$ref": "#/components/schemas/BlockId"
                            }
                        },
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "required": [
                            "finality"
                        ],
                        "properties": {
                            "finality": {
                                "$ref": "#/components/schemas/Finality"
                            }
                        },
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "required": [
                            "sync_checkpoint"
                        ],
                        "properties": {
                            "sync_checkpoint": {
                                "$ref": "#/components/schemas/SyncCheckpoint"
                            }
                        },
                        "additionalProperties": false
                    }
                ]
            },
            "RpcBlockResponse": {
                "type": "object",
                "required": [
                    "author",
                    "chunks",
                    "header"
                ],
                "properties": {
                    "author": {
                        "$ref": "#/components/schemas/AccountId"
                    },
                    "chunks": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ChunkHeaderView"
                        }
                    },
                    "header": {
                        "$ref": "#/components/schemas/BlockHeaderView"
                    }
                }
            },
            "RpcError": {
                "type": "object",
                "required": [
                    "code",
                    "message"
                ],
                "properties": {
                    "cause": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/CauseRpcErrorKind"
                            }
                        ],
                        "nullable": true
                    },
                    "code": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "data": {
                        "nullable": true
                    },
                    "message": {
                        "type": "string"
                    },
                    "name": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/NameRpcErrorKind"
                            }
                        ],
                        "nullable": true
                    }
                }
            },
            "RpcRequestValidationErrorKind": {
                "oneOf": [
                    {
                        "type": "object",
                        "required": [
                            "info",
                            "name"
                        ],
                        "properties": {
                            "info": {
                                "type": "object",
                                "required": [
                                    "method_name"
                                ],
                                "properties": {
                                    "method_name": {
                                        "type": "string"
                                    }
                                }
                            },
                            "name": {
                                "type": "string",
                                "enum": [
                                    "METHOD_NOT_FOUND"
                                ]
                            }
                        }
                    },
                    {
                        "type": "object",
                        "required": [
                            "info",
                            "name"
                        ],
                        "properties": {
                            "info": {
                                "type": "object",
                                "required": [
                                    "error_message"
                                ],
                                "properties": {
                                    "error_message": {
                                        "type": "string"
                                    }
                                }
                            },
                            "name": {
                                "type": "string",
                                "enum": [
                                    "PARSE_ERROR"
                                ]
                            }
                        }
                    }
                ]
            },
            "ShardId": {
                "description": "The shard identifier. It may be an arbitrary number - it does not need to be a number in the range 0..NUM_SHARDS. The shard ids do not need to be sequential or contiguous.\n\nThe shard id is wrapped in a new type to prevent the old pattern of using indices in range 0..NUM_SHARDS and casting to ShardId. Once the transition if fully complete it potentially may be simplified to a regular type alias.",
                "type": "integer",
                "format": "uint64",
                "minimum": 0.0
            },
            "Signature": {
                "type": "string"
            },
            "SlashedValidator": {
                "type": "object",
                "required": [
                    "account_id",
                    "is_double_sign"
                ],
                "properties": {
                    "account_id": {
                        "$ref": "#/components/schemas/AccountId"
                    },
                    "is_double_sign": {
                        "type": "boolean"
                    }
                }
            },
            "SyncCheckpoint": {
                "type": "string",
                "enum": [
                    "genesis",
                    "earliest_available"
                ]
            },
            "ValidatorStakeView": {
                "oneOf": [
                    {
                        "type": "object",
                        "required": [
                            "account_id",
                            "public_key",
                            "stake",
                            "validator_stake_struct_version"
                        ],
                        "properties": {
                            "account_id": {
                                "$ref": "#/components/schemas/AccountId"
                            },
                            "public_key": {
                                "$ref": "#/components/schemas/PublicKey"
                            },
                            "stake": {
                                "type": "string"
                            },
                            "validator_stake_struct_version": {
                                "type": "string",
                                "enum": [
                                    "V1"
                                ]
                            }
                        }
                    }
                ]
            }
        }
    }
}